import{S as ee,i as te,s as ae,e as p,j as O,t as R,c as d,a as g,d as v,l as B,g as I,b as i,G as Z,T as se,N as $,f as le,H as l,R as q,a7 as re,h as z,L as x,a2 as oe,a8 as ne,a9 as ie}from"./vendor-6d69bdcb.js";const{isNaN:ue}=ne;function ce(t){let r,e,E,N,_=!1,h,m=!0,k,n,c,P,A,u,y,w=F(t[2])+"",S,a,f,T,D=(t[4]?"play":"pause")+"",V,H,K,b,C=F(t[3])+"",X,L,J;function Q(){cancelAnimationFrame(h),e.paused||(h=ie(Q),_=!0),t[9].call(e)}return{c(){r=p("div"),e=p("video"),E=p("track"),k=O(),n=p("div"),c=p("progress"),A=O(),u=p("div"),y=p("span"),S=R(w),a=O(),f=p("span"),T=R("click anywhere to "),V=R(D),H=R(" / drag to seek"),K=O(),b=p("span"),X=R(C),this.h()},l(s){r=d(s,"DIV",{class:!0});var o=g(r);e=d(o,"VIDEO",{class:!0,poster:!0,src:!0});var U=g(e);E=d(U,"TRACK",{kind:!0}),U.forEach(v),k=B(o),n=d(o,"DIV",{class:!0,style:!0});var j=g(n);c=d(j,"PROGRESS",{class:!0}),g(c).forEach(v),A=B(j),u=d(j,"DIV",{class:!0});var M=g(u);y=d(M,"SPAN",{class:!0});var W=g(y);S=I(W,w),W.forEach(v),a=B(M),f=d(M,"SPAN",{class:!0});var G=g(f);T=I(G,"click anywhere to "),V=I(G,D),H=I(G," / drag to seek"),G.forEach(v),K=B(M),b=d(M,"SPAN",{class:!0});var Y=g(b);X=I(Y,C),Y.forEach(v),M.forEach(v),j.forEach(v),o.forEach(v),this.h()},h(){i(E,"kind","captions"),i(e,"class","aspect-video svelte-3ry5q6"),i(e,"poster",t[1]),Z(e.src,N=t[0])||i(e,"src",N),t[3]===void 0&&se(()=>t[10].call(e)),c.value=P=t[2]/t[3]||0,i(c,"class","svelte-3ry5q6"),i(y,"class","time svelte-3ry5q6"),i(f,"class","svelte-3ry5q6"),i(b,"class","time svelte-3ry5q6"),i(u,"class","info svelte-3ry5q6"),i(n,"class","controls svelte-3ry5q6"),$(n,"opacity",t[3]&&t[5]?1:0),i(r,"class","svelte-3ry5q6")},m(s,o){le(s,r,o),l(r,e),l(e,E),l(r,k),l(r,n),l(n,c),l(n,A),l(n,u),l(u,y),l(y,S),l(u,a),l(u,f),l(f,T),l(f,V),l(f,H),l(u,K),l(u,b),l(b,X),L||(J=[q(e,"mousemove",t[6]),q(e,"touchmove",re(t[6])),q(e,"mousedown",t[7]),q(e,"mouseup",t[8]),q(e,"timeupdate",Q),q(e,"durationchange",t[10]),q(e,"play",t[11]),q(e,"pause",t[11])],L=!0)},p(s,[o]){o&2&&i(e,"poster",s[1]),o&1&&!Z(e.src,N=s[0])&&i(e,"src",N),!_&&o&4&&!ue(s[2])&&(e.currentTime=s[2]),_=!1,o&16&&m!==(m=s[4])&&e[m?"pause":"play"](),o&12&&P!==(P=s[2]/s[3]||0)&&(c.value=P),o&4&&w!==(w=F(s[2])+"")&&z(S,w),o&16&&D!==(D=(s[4]?"play":"pause")+"")&&z(V,D),o&8&&C!==(C=F(s[3])+"")&&z(X,C),o&40&&$(n,"opacity",s[3]&&s[5]?1:0)},i:x,o:x,d(s){s&&v(r),L=!1,oe(J)}}}function F(t){if(isNaN(t))return"...";const r=Math.floor(t/60);return t=Math.floor(t%60),t<10&&(t="0"+t),`${r}:${t}`}function fe(t,r,e){let{src:E=""}=r,{poster:N=""}=r,_=0,h,m=!0,k=!0,n,c;function P(a){if(clearTimeout(n),n=setTimeout(()=>e(5,k=!1),2500),e(5,k=!0),!h||a.type!=="touchmove"&&!(a.buttons&1))return;const f=a.type==="touchmove"?a.touches[0].clientX:a.clientX,{left:T,right:D}=this.getBoundingClientRect();e(2,_=h*(f-T)/(D-T))}function A(a){c=new Date}function u(a){new Date-c<300&&(m?a.target.play():a.target.pause())}function y(){_=this.currentTime,e(2,_)}function w(){h=this.duration,e(3,h)}function S(){m=this.paused,e(4,m)}return t.$$set=a=>{"src"in a&&e(0,E=a.src),"poster"in a&&e(1,N=a.poster)},[E,N,_,h,m,k,P,A,u,y,w,S]}class de extends ee{constructor(r){super();te(this,r,fe,ce,ae,{src:0,poster:1})}}export{de as P};
